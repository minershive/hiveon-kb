---
title: Драйвера NVidia
parent_category: Гайды
path: /guides-nvidia_dr_ru
lang: ru
parent_category_path: /guides_ru
order: 1
---

## Драйвера NVidia
На этой неделе мы обновили драйвера NVidia в нашем [каталоге](http://download.hiveos.farm/drivers/drivers). Все версии драйверов CUDA 10 совместимые.
Были добавлены такие версии:
- 410.93 - R410 стабильная линейка с длительным сроком поддержки
- 415.27 - R415 текущая стабильная ветка
- 418.43 - R418 текущая бета ветка
Для обновления драйверов достаточно воспользоваться утилитой 'nvidia-driver-update'.

После проведения ряда тестов на различном оборудовании мы выбрали версию 418.43 такой, которая теперь устанавливается по умолчанию, если не задан параметр для утилиты 'nvidia-driver-update'.
Эта версия поддерживает все последние карты новой линейки NVidia RTX 20хх, и, кроме того, отмечено падение в 2 и более раза системной загрузки при майнинге на таких алгоритмах как семейство x16, cuckoo и других.

### Типичные вопросы перед установкой
Прежде чем мы начнем, давайте ответим на типичные вопросы.

#### Нужно ли обновлять?
Нет! Если у Вас все работает - не трогай.

#### Зачем тогда обновлять?
Новые драйверы включают поддержку новых карт, таких как 1660ti, 2060, 2070, 2080, 2080ti серии
Иногда специальная оптимизация у некоторых майнеров имеет положительный эффект на хэшрейте но только на некоторых алгоритмах и на топовых картах семейства Pascal - 10хх.

#### Все еще не передумали?
Тогда начнем.

### Процедура обновления
Мы настоятельно рекомендуем использовать Hive Shell для правильной процедуры обновления. Конечно, если вы можете использовать локальную консоль - используйте ее, или если ваши риги находятся в одной локальной сети с вашим ПК / ноутбуком, то вы можете использовать, например, SSH-клиент PuTTY или браузерный вариант ShellInABox вместо Hive Shell.
Процедура обновления довольно проста:

1. Запустите консоль, например, Hive Shell
2. Выполните в ней последовательно следующие команды:

`apt update`

`nvidia-driver-update`

Процедура обновления драйвера занимает 5-10 минут, если вы используете SSD / HDD, и 30+ минут, если вы используете медленный диск, например флешку USB 2.0.
Если процедура обновления завершится успешно, вы увидите следующее сообщение:
<img src="https://forum.hiveos.farm/uploads/default/original/2X/9/9553243cace241898daa33377c83112c9118e588.png">

Теперь вы можете перезагрузить Ваш риг. После перезагрузки проверьте версию драйвера и работоспособность майнера.

### Обновление/откат до желаемой версии
Вы можете обновить драйвер до желаемой версии. В этом случае командная строка для инструмента nvidia-driver-update должна содержать URL-адрес нужной версии драйвера.
Например, понижение до 396.54:

`nvidia-driver-update http://download.hiveos.farm/drivers/NVIDIA-Linux-x86_64-396.54.run`

### Возможные проблемы и их решение
#### Ошибка установки драйвера (модуль nvidia-drm)
В некоторых случаях процедура обновления может иногда завершаться с ошибкой:
<img src="https://forum.hiveos.farm/uploads/default/original/2X/7/7d1e38ce4bf5ac78cc65a1a3c9f6012faf262f07.png">
В этом случае повторите процедуру обновления - в большинстве случаев это поможет исправить ошибку.

#### Ошибка установки драйвера (nvidia-uvm)
Если установка останавливается со следующей ошибкой:
<img src="https://forum.hiveos.farm/uploads/default/original/2X/b/b1821d4e57e3c64d131dec53c211fbfdea7e415a.png">
В таком случае, перегрузите риг и повторите процедуру обновления.

#### Ошибка при удалении предыдущего драйвера
Во время установки нового драйвера nvidia-driver-update удаляет сначала предыдущую версию драйвера. Если удаление прекращается со следующей ошибкой (Received signal SIGBUS; aborting):
<img src="https://forum.hiveos.farm/uploads/default/original/2X/d/dd971d757777318adb5a70eb39a1ba9fa136b5d4.png">
Пока нет решения. Не воспроизводится.

#### Не хватает места на диске
- используйте инструмент расширения диска disk-expand, чтобы увеличить диск, чтобы использовать все пространство
- удалите неиспользуемые драйверы из /hive-driver-pack
- удалите майнеры hpkg утилитой

#### Ошибка установки при распаковке драйвера
По умолчанию каталог TMP находится на RAM-диске, поэтому вам необходимо включить в журналах некоторое пространство.
logs-on
reboot

#### После обновления майнер не запускается должным образом
Если ваш майнер после обновления драйвера не запустился или работает неправильно, вы можете повторить процедуру обновления драйвера или понизить версию драйвера, как описано выше.

#### Ничего не помогает?
Попробуйте такие способы:

- написать в поддержку bee@hiveos.farm
- обратиться за помощью к сообществу на канале Telegram
- перепрошить носитель
- удаленное обновление образа с помощью инструмента 'hive-replace'

### Видео
- <a href="https://www.youtube.com/watch?v=_Ld5XmrYf7Q">Hive OS 2 - обновление, откат драйверов NVIDIA подробная инструкция</a>

<a href="http://www.youtube.com/watch?feature=player_embedded&v=_Ld5XmrYf7Q
" target="_blank"><img src="http://img.youtube.com/vi/_Ld5XmrYf7Q/0.jpg"
alt="Hive OS 2 - обновление, откат драйверов NVIDIA подробная инструкция"></a>

- <a href="https://www.youtube.com/watch?v=7gmDYUyznM8">Hive 2.0 Как обновить драйвера видеокарт NVidia</a>

<a href="http://www.youtube.com/watch?feature=player_embedded&v=7gmDYUyznM8
" target="_blank"><img src="http://img.youtube.com/vi/7gmDYUyznM8/0.jpg"
alt="Hive 2.0 Как обновить драйвера видеокарт NVidia"></a>
